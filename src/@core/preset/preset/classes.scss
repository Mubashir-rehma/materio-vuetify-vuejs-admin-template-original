@import './mixins';

// ————————————————————————————————————
//* ——— Color
// ————————————————————————————————————

.gradient-primary {
  background: linear-gradient(98deg, #c48eff, var(--v-primary-base) 94%);
}

// ————————————————————————————————————
//* ——— Grid
// ————————————————————————————————————

// Card match height
.row.match-height {
  .v-card {
    height: 100%;
  }
}

// Removes large space when form is used with validation
.multi-col-validation {
  &.v-form {
    .v-text-field__details {
      margin-bottom: 0 !important;
      min-height: unset;

      .v-messages:not([role='alert']) {
        min-height: unset;
        .v-messages__wrapper {
          min-height: unset;
        }
      }
    }
  }
}

// ————————————————————————————————————
//* ——— Typography
// ————————————————————————————————————

//
//* ——— Font Sizes ——————————————————
//

// According to TailwindCSS
$font-sizes: (
  '.text-xs': (
    'font-size': 0.75rem,
    'line-height': 1rem,
  ),
  '.text-sm': (
    'font-size': 0.875rem,
    'line-height': 1.25rem,
  ),
  '.text-base': (
    'font-size': 1rem,
    'line-height': 1.5rem,
  ),
  '.text-lg': (
    'font-size': 1.125rem,
    'line-height': 1.75rem,
  ),
  '.text-xl': (
    'font-size': 1.25rem,
    'line-height': 1.75rem,
  ),
  '.text-2xl': (
    'font-size': 1.5rem,
    'line-height': 2rem,
  ),
  '.text-3xl': (
    'font-size': 1.875rem,
    'line-height': 2.25rem,
  ),
  '.text-4xl': (
    'font-size': 2.25rem,
    'line-height': 2.5rem,
  ),
  '.text-5xl': (
    'font-size': 3rem,
    'line-height': 1,
  ),
);
/* 'text-6xl': ( 'font-size': 3.75rem, 'line-height': 1 ),
    'text-7xl': ( 'font-size': 4.5rem, 'line-height': 1 ),
    'text-8xl': ( 'font-size': 6rem, 'line-height': 1 ),
    'text-9xl': ( 'font-size': 8rem, 'line-height': 1 ),
  */

@include class-generator($font-sizes, $important: true);

//
//* ——— Font Size ——————————————————
//

.font-weight-semibold {
  font-weight: 600 !important;
}

// ————————————————————————————————————
//* ——— Components
// ————————————————————————————————————

//
//* ——— Avatar ——————————————————
//

// For creating initial avatars
@include light-bg-provider(v-avatar);

// ——— Avatar Group ——————— //

.v-avatar-group {
  display: flex;
  align-items: center;
  > * {
    &:not(:first-child) {
      margin-left: -0.8rem;
    }
    transition: transform 0.25s ease, box-shadow 0.15s ease;

    &:hover {
      transform: translateY(-5px) scale(1.05);
      z-index: 2;
      @include elevation(2);
    }
  }
}

@include theme(v-avatar-group) using ($material) {
  > * {
    border: 2px solid map-deep-get($material, 'cards');
  }
}

//
//* ——— Card ——————————————————
//

// ? We have to use various selectors because `!important` isn't working
.v-application[class*='theme'] {
  .v-card-transparent-outlined {
    &.v-card.v-sheet:not(.v-card---outlined) {
      background-color: transparent !important;
      box-shadow: none !important;
    }
  }
}

@include theme(v-card-transparent-outlined) using ($material) {
  &.v-card {
    border: thin solid map-deep-get($material, 'dividers');
  }
}

//
//* ——— Chip ——————————————————
//

// For creating initial avatars
@include light-bg-provider(v-chip);

//
//* ——— Stepper ——————————————————
//

.v-stepper {
  &.custom-header {
    .v-stepper__step {
      &:not(.v-stepper__step--active):not(.v-stepper__step--complete):not(.v-stepper__step--error) {
        .v-stepper__step__step {
          background: var(--v-primary-base) !important;
          opacity: 0.12;
        }
      }
    }
  }
}

@include app-elevation('custom-header.v-stepper .v-stepper__step.v-stepper__step--active .v-stepper__step__step', 2);

.custom-header {
  &.v-stepper {
    // ? Disable text-shadow from Vuetify
    .v-stepper__step--active .v-stepper__label {
      text-shadow: none !important;
    }

    // ? Update divider height/border-width
    .v-divider {
      border-width: 3px;
      position: relative;
      border-radius: 6px;

      &::after {
        content: '';
        display: block;
        height: 6px;
        width: 100%;
        background: var(--v-primary-base);
        width: 0;
        transition: all 0.1s ease-in-out;
        position: absolute;
        top: -3px;
        left: -2%;
        border-radius: 6px;
      }
    }

    // Update divider color if previous step is completed
    .v-stepper__step.v-stepper__step--complete {
      + .v-divider {
        // background: var(--v-primary-base);
        &::after {
          width: 104%;
        }
      }
    }

    .v-stepper__step {
      .v-stepper__step__step {
        position: relative;
        transform: scale(0.9);
      }

      &.v-stepper__step--complete {
        .v-icon__svg {
          font-size: 18px;
          height: 18px;
          width: 18px;
        }
      }

      &.v-stepper__step--active {
        .v-stepper__step__step {
          transform: scale(0.8);

          &::after {
            content: '';
            display: block;
            background: white;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transform: scale(0.5);
          }
        }
      }

      &.v-stepper__step--inactive {
        .v-stepper__step__step {
          transform: scale(0.8);

          &::after {
            content: '';
            display: block;
            background: #fff;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transform: scale(0.75);
          }
        }
      }
    }
  }
}

// ————————————————————————————————————
//* ——— Misc
// ————————————————————————————————————

.cursor-pointer {
  cursor: pointer;
}

.position-relative {
  position: relative;
}

.position-absolute {
  position: absolute;
}
